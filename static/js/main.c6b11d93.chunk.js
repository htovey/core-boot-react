(this["webpackJsonpcore-react-old"]=this["webpackJsonpcore-react-old"]||[]).push([[0],{113:function(e,t,n){},416:function(e,t,n){e.exports=n(699)},421:function(e,t,n){},699:function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),r=n(10),s=n.n(r),l=(n(421),n(30)),i=n(40),c=n(43),u=n(41),d=n(44),p=(n(113),n(400)),h=n.n(p),m=n(401),g=n.n(m),f=n(729),v=n(731),N=n(730),S=n(728),b=n(102),y=n(341),E=n(342),C=n(700),k=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault(),n.props.handleClick(n.state.loginModel,e)},n.state={loginModel:{username:"ht5",password:"hockey"}},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidUpdate",value:function(e,t,n){e.error!==this.props.error&&this.setState({loginModel:{username:"",password:""}})}},{key:"render",value:function(){var e=this,t=Object(C.a)({root:{color:"red"}})(S.a);return a.a.createElement(f.a,{open:this.props.openLogin,onClose:this.handleClose,"aria-labelledby":"form-dialog-title"},a.a.createElement(N.a,null,a.a.createElement(t,null,this.props.error),a.a.createElement(y.a,{autoFocus:!0,margin:"dense",name:"username",required:!0,value:this.state.loginModel.username,onChange:function(t){return e.setState({loginModel:{username:t.target.value,password:e.state.loginModel.password||""}})},label:"User Id",fullWidth:!0,variant:"outlined"}),a.a.createElement(y.a,{margin:"dense",name:"password",required:!0,value:this.state.loginModel.password,onChange:function(t){return e.setState({loginModel:{username:e.state.loginModel.username,password:t.target.value}})},label:"Password",fullWidth:!0,variant:"outlined"})),a.a.createElement(v.a,null,a.a.createElement(E.a,{onClick:this.handleSubmit,color:"primary"},"Login")))}}]),t}(o.Component),L=(n(343),n(244)),O=n.n(L),j=(n(344),{handleGet:function(e,t){return fetch(e,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:t,Connection:"close"}})},handlePost:function(e,t,n){return fetch(e,{method:"POST",headers:{"Content-Type":"application/json",Accept:"text/html;charset=UTF-8",Authorization:t},body:JSON.stringify(n)})}}),T=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).validLogin=function(e){if(!e.username&&!e.password)return n.handleError("Please enter User Id and Password."),!1;if(e.username){if(e.password)return n.setState({error:""}),!0;n.handleError("Please enter a Password")}else n.handleError("Please enter a User Id.")},n.handleClick=function(e,t){if(n.validLogin(e)){t.preventDefault();var o="Basic "+O.a.encode(e.username+":"+e.password);j.handleGet("http://104.155.129.244:8080/getNotesForUser",o).then((function(e){return e.json()})).then((function(e){console.log("LoginComponent handleClick() response"),n.props.handleSuccess(e,o,!1)})).catch((function(e){n.handleError("Login failed. Please try again.")}))}},n.state={toggleError:"false",styleClass:"showMe",error:""},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidUpdate",value:function(e,t,n){console.log("LoginComponent componentDidUpdate()"),e.openLogin!==this.props.openLogin&&this.setState({openLogin:this.props.openLogin})}},{key:"handleError",value:function(e){console.log("LoginComponent handleError()"),!0===this.props.openLogin&&this.setState({error:e})}},{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement("div",null,a.a.createElement(k,{openLogin:this.props.openLogin,error:this.state.error,styleClass:this.styleClass,handleClick:this.handleClick})))}}]),t}(o.Component),w=n(247),I=n(383),x=["Java","JavaScript","React","Angular"],M=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).getCategories=function(){return x},n.handleSubmit=function(e){e.preventDefault();var t=n.populateNoteModel();n.props.handleSubmit(t,e)},n.populateNoteModel=function(){var e=n.props.noteModel;return n.state.categoryInput&&(e.category=n.state.categoryInput),n.state.noteTextInput&&(e.noteText=n.state.noteTextInput),e},n.state={categoryInput:"",noteTextInput:""},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=Object(C.a)({root:{color:"red"}})(S.a);return a.a.createElement(f.a,{open:this.props.openNote,onClose:this.handleClose,"aria-labelledby":"form-dialog-title"},a.a.createElement(N.a,null,a.a.createElement(t,null,this.props.error),a.a.createElement(w.a,{name:"category",defaultValue:this.props.noteModel.category||"",label:"Category",onChange:function(t){return e.setState({categoryInput:t.target.value})}},x.map((function(e,t){return a.a.createElement(I.a,{key:t,value:e},e)}))),a.a.createElement(y.a,{margin:"dense",name:"noteText",required:!0,defaultValue:this.props.noteModel.noteText||"",onChange:function(t){return e.setState({noteTextInput:t.target.value})},label:"Note",fullWidth:!0,variant:"outlined"})),a.a.createElement(v.a,null,a.a.createElement(E.a,{onClick:this.handleSubmit,color:"primary"},"Save"),a.a.createElement(E.a,{onClick:this.props.handleClose},"Cancel")))}}]),t}(o.Component),U=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).validNote=function(e){if(!e.category&&!e.noteText)return n.handleError("Please provide Category and text input"),!1;if(e.category){if(e.noteText)return n.setState({error:""}),!0;n.handleError("Please enter note text")}else n.handleError("Please select a category.")},n.handleSubmit=function(e,t){if(n.validNote(e)){t.preventDefault();var o={noteId:e.noteId,category:e.category,noteText:e.noteText};j.handlePost("http://104.155.129.244:8080/createUpdateNote",n.props.user,o).then((function(e){200===e.status&&(console.log("Success***"),n.props.handleSuccess())})).catch((function(e){console.log(e),n.handleError("Save failed. Please try again.")}))}},n.state={toggleError:"false",styleClass:"showMe",error:""},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidUpdate",value:function(e,t,n){console.log("NoteComponent componentDidUpdate()"),e.openNote!==this.props.openNote&&this.setState({openNote:this.props.openNote}),e.user!==this.props.user&&this.setState({user:this.props.user})}},{key:"handleError",value:function(e){console.log("NoteComponent handleError()"),!0===this.props.openNote&&this.setState({error:e})}},{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement("div",null,a.a.createElement(M,{openNote:this.props.openNote,error:this.state.error,styleClass:this.styleClass,handleSubmit:this.handleSubmit,noteModel:this.props.noteModel,handleClose:this.props.handleClose})))}}]),t}(o.Component),D=n(404),P=n.n(D),B=n(245),A=n(389),H=n(246),R=n.n(H),F=n(406),z=n.n(F),J=function(e){function t(){var e,n;Object(l.a)(this,t);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(a)))).handleDelete=function(){var e=n.getNoteIdList(n.props.selectedRows);j.handlePost("http://104.155.129.244:8080/deleteNote",n.props.userToken,e).then((function(e){200===e.status&&(console.log("Delete: Success***"),n.props.handleSuccess())})).catch((function(e){console.log(e)}))},n.handleUpdate=function(){var e=n.getNotePayload(n.props.selectedRows);j.handlePost("http://104.155.129.244:8080/createUpdateNote",n.props.userToken,e).then((function(e){200===e.status&&(console.log("Delete: Success***"),n.props.handleSuccess())})).catch((function(e){console.log(e)}))},n.editNote=function(){var e=n.props.noteList[n.props.selectedRows.data[0].index];n.props.createUpdateNote(e)},n.getNoteIdList=function(e){var t=[];return e.data.map((function(e,o){var a=n.props.noteList[e.index];t[o]=a.noteId})),t},n.getNotePayload=function(e){var t=[];return t.noteId=e.noteId,t.category=e.category,t.noteText=e.noteText,t},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.classes,t=this.props.selectedRows.data.length>1;return a.a.createElement("div",{className:e.divHeight},a.a.createElement(A.a,{title:"Edit"},a.a.createElement(B.a,{className:e.iconButton,disabled:t,onClick:this.editNote},!t&&a.a.createElement(z.a,{className:e.editIcon}))),a.a.createElement(A.a,{title:"Delete"},a.a.createElement(B.a,{className:e.iconButton,onClick:this.handleDelete},a.a.createElement(R.a,{className:e.deleteIcon}))),this.props.openNote&&a.a.createElement(U,{openNote:!0,handleSubmit:this.props.handleSubmit,noteModel:this.updateNote}))}}]),t}(o.Component),W=Object(C.a)({iconButton:{marginRight:"24px",top:"40%",transform:"translateY(-50%)"},deleteIcon:{color:"#000"},editIcon:{color:"#000"},divHeight:{height:"40px"}},{name:"NoteListToolbarSelect"})(J);function G(e){var t={filter:!0,filterType:"dropdown",responsive:"scroll",selectableRows:!0,customToolbarSelect:function(t){return a.a.createElement(W,{handleSubmit:e.handleSubmit,handleSuccess:e.handleSuccess,noteList:e.notes,userToken:e.userToken,selectedRows:t,createUpdateNote:e.createUpdateNote})}};return a.a.createElement(P.a,{data:e.notes,columns:[{name:"noteId",label:"Note Id",options:{display:"excluded"}},{name:"category",label:"Category",options:{filter:!0}},{name:"noteText",label:"Note",options:{filter:!0}},{name:"lastUpdated",label:"Last Updated",options:{filter:!0}}],options:t})}var q=n(733),V=n(734),Y=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).handleLoginSuccess=function(t,n,o){console.log("handleLoginSuccess()"),e.setState({userToken:n}),e.setState({openLogin:o}),e.setState({noteList:e.buildNoteList(t,e.getFormattedDate)}),e.toggleNoteList()},e.handleSaveSuccess=function(){console.log("handleSaveSuccess"),e.setState({openNote:!1}),e.setState({snackBarOpen:!0}),e.refreshNoteList()},e.refreshNoteList=function(){j.handleGet("http://localhost:8080/getNotesForUser",e.state.userToken).then((function(e){return e.json()})).then((function(t){e.setState({noteList:e.buildNoteList(t,e.getFormattedDate)})})).catch((function(e){return e}))},e.toggleNoteList=function(){1==e.state.isNoteListHidden?e.setState({isNoteListHidden:!1}):e.setState({isNoteListHidden:!0})},e.createUpdateNote=function(t){t&&e.setState({noteModel:{noteId:t.noteId,category:t.category,noteText:t.noteText}}),e.setState({openNote:!0})},e.buildNoteList=function(e,t){var n=[];return e.map((function(e){e.saveDate=t(e.saveDate),n.push(e)})),n},e.getFormattedDate=function(e){return new Date(e).toLocaleString("en-US",{day:"numeric",month:"long",weekday:"short",hour:"numeric",minute:"numeric",timeZoneName:"short",timeZone:"America/New_York"})},e.closeSnackBar=function(){e.setState({snackBarOpen:!1})},e.closeNote=function(){e.setState({openNote:!1})},e.state={noteList:[],openLogin:!0,openNote:!1,isNoteListHidden:!0,userToken:"",snackBarOpen:!1,vertical:"top",horizontal:"center",noteModel:{noteId:"",category:"",noteText:""}},e}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return a.a.createElement(b.MuiThemeProvider,null,a.a.createElement("div",{className:"App"},a.a.createElement(h.a,{title:"Notes"},a.a.createElement(g.a,{onClick:this.createUpdateNote,value:"",primaryText:"Create Note"})),a.a.createElement(q.a,{anchorOrigin:{vertical:"top",horizontal:"center"},key:"".concat(this.state.vertical,", ").concat(this.state.horizontal),open:this.state.snackBarOpen,autoHideDuration:2e3,onClose:this.closeSnackBar},a.a.createElement(V.a,Object.assign({elevation:6,variant:"filled"},this.state.props),'"Success! Note saved."')),a.a.createElement(T,{openLogin:this.state.openLogin,handleSuccess:this.handleLoginSuccess}),!this.state.isNoteListHidden&&a.a.createElement(G,{handleSuccess:this.refreshNoteList,userToken:this.state.userToken,notes:this.state.noteList,createUpdateNote:this.createUpdateNote}),a.a.createElement(U,{user:this.state.userToken,openNote:this.state.openNote,handleSuccess:this.handleSaveSuccess,noteModel:this.state.noteModel,handleClose:this.closeNote})))}}]),t}(o.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(a.a.createElement(Y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[416,1,2]]]);
//# sourceMappingURL=main.c6b11d93.chunk.js.map